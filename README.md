# Лабораторная работа №4
## ОБОБЩЕННЫЕ ТИПЫ  
## Задача 1.1. Обобщенная коробка

### Описание задачи

Создать обобщённый класс Box, который реализует концепцию «коробки», способной хранить один объект любого заданного типа. Класс должен:

- Хранить один произвольный объект в любой момент времени.  
- Позволять получить и разместить объект в коробке.  
- Обнулять ссылку на объект при его извлечении.  
- Вызывать исключение при попытке поместить новый объект, если коробка уже заполнена.  
- Иметь метод для проверки, пуста ли коробка.  
- Работать только с тем типом данных, который указан при создании объекта.  

Пример: создать коробку, которая может хранить целочисленное значение, поместить туда число 3, передать коробку в метод, извлечь значение и вывести его на экран.

---

### Код класса Box

```
public class Box<T> {
    private T obj;

    public void put(T obj) {
        if (this.obj != null) {
            throw new IllegalArgumentException("Ошибка. Коробка уже заполнена");
        }
        this.obj = obj;
    }

    public T take() {
        if (obj == null) {
            return null;
        } else {
            T saverOfObj = obj;
            this.obj = null;
            return saverOfObj;
        }
    }

    public boolean isEmpty() {
        return obj == null;
    }

    @Override
    public String toString() {
        return "В коробке лежит: " + obj;
    }
}
```

---

### Демонстрация работы

```
public class Main {
    public static void main(String[] args) {
        Box<Integer> intBox = new Box<>();
        intBox.put(3);
        System.out.println("После помещения: " + intBox);

        printBoxValue(intBox);

        System.out.println("Пуста ли коробка? " + intBox.isEmpty());
    }

    public static void printBoxValue(Box<Integer> box) {
        Integer value = box.take();
        System.out.println("Извлечённое значение: " + value);
    }
}
```
---

### Пример ввода

```
Введите число для помещения в коробку: 3
```

### Пример вывода программы

```
После помещения: В коробке лежит: 3
Извлечённое значение: 3
Пуста ли коробка? true
```
```
```

---

## Задача 1.2. Сравнимое

### Описание задачи

Создать интерфейс `ComparableCustom<T>`, который гарантирует наличие метода `сравнить`, принимающего объект типа T и возвращающего целое число.

Реализовать классы `Number` и `MyString`, реализующие интерфейс с логикой сравнения.

### Как решается задача

- Интерфейс объявляет метод `int сравнить(T other)`.
- Классы `Number` и `MyString` реализуют интерфейс, предоставляя сравнение по значениям.
- Пользователь вводит два значения, выбирает тип, и получает результат сравнения.

---

## Задача 1.3. Коробка чисел и поиск максимума

### Описание задачи

Создать обобщённый класс `BoxOfNumbers<T extends Number>`, хранящий числовое значение и реализующий `Comparable` по значению.

Создать утилитный метод в `BoxUtil` для поиска максимума среди коробок.

### Решение

- Класс `BoxOfNumbers<T>` сравнивает свои значения как `double`.
- Метод `findMaxValue(List<BoxOfNumbers<T>>)` использует `Collections.max` и возвращает максимальное числовое значение.

---

## Задача 2. Универсальный map

### Описание задачи

Реализовать универсальный метод `map`, который принимает список и функциональный интерфейс с методом `apply`, возвращая преобразованный список.

### Решение

- Создать интерфейс `Function<T, P>` с методом `P apply(T value)`.
- Итеративно применять `apply` ко всем элементам, собирать результаты в новый список.
- Примеры применения: получение длин строк, абсолютных значений чисел.

---

## Задача 3. Фильтр

### Описание задачи

Создать функцию `filter`, принимающую список и объект с методом `test` для фильтрации элементов по условию.

### Решение

- Интерфейс `Filter<T>` с методом `boolean test(T value)`.
- Возвращать список элементов, для которых `test` возвращает true.
- Примеры: фильтрация строк по длине, чисел по знаку, массивов без положительных элементов.

---

## Задача 4. Сокращение (reduce)

### Описание задачи

Создать метод `reduce`, принимающий список, начальное значение `identity` и бинарный оператор для свёртки списка в одно значение.

### Решение

- Функциональный интерфейс `Reducer<T>` описывает `T apply(T a, T b)`.
- Метод поэтапно аккумулирует результат, начиная с `identity`.
- Примеры: склейка строк, сумма чисел, подсчёт общего количества элементов во вложенных списках.
- Метод безопасно работает с пустым списком, возвращая `identity`.

---

# Вывод

Все задачи едины в подходе: используют обобщённые классы и методы, функциональные интерфейсы, ввод с проверкой. Такой подход обеспечивает универсальность, типобезопасность и расширяемость кода.

---


